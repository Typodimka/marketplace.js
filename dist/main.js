(()=>{"use strict";function t(){const t=document.querySelectorAll(".goods .card"),e=document.getElementById("discount-checkbox"),n=document.getElementById("min"),c=document.getElementById("max");t.forEach((t=>{const o=t.querySelector(".card-price"),l=parseFloat(o.textContent),d=t.querySelector(".card-sale");n.value&&l<n.value||c.value&&l>c.value||e.checked&&!d?t.parentNode.style.display="none":t.parentNode.style.display=""}))}!async function(){!function(t){const e=document.querySelector(".goods");t.goods.forEach((t=>{const n=document.createElement("div");n.className="col-12 col-md-6 col-lg-4 col-xl-3",n.innerHTML=`\n\t\t\t\t\t\t\t\t<div class="card" data-category = "${t.category}">\n                                ${t.sale?'<div class="card-sale">üî•Hot Saleüî•</div>':""}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div class="card-img-wrapper">\n\t\t\t\t\t\t\t\t\t\t<span class="card-img-top"\n\t\t\t\t\t\t\t\t\t\t\tstyle="background-image: url('${t.img}')"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="card-body justify-content-between">\n\t\t\t\t\t\t\t\t\t\t<div class="card-price" style="${t.sale?"color: red;":""}">${t.price} ‚ÇΩ</div>\n\t\t\t\t\t\t\t\t\t\t<h5 class="card-title">${t.title}</h5>\n\t\t\t\t\t\t\t\t\t\t<button class="btn btn-primary">–í –∫–æ—Ä–∑–∏–Ω—É</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n        `,e.appendChild(n)}))}(await function(){const t=document.querySelector(".goods");return fetch("../db/db.json").then((t=>{if(t.ok)return t.json();throw new Error("–î–∞–Ω–Ω—ã–µ –Ω–µ –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã, –æ—à–∏–±–∫–∞: "+t.status)})).then((t=>t)).catch((e=>{console.warn(e),t.innerHTML='<div style = "color: red; font-size: 30px">–£–ø—Å, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫</div>'}))}()),function(){const t=document.querySelectorAll(".filter-check_checkbox");for(let e=0;e<t.length;e++)t[e].addEventListener("change",(function(){!0===this.checked?this.nextElementSibling.classList.add("checked"):this.nextElementSibling.classList.remove("checked")}))}(),function(){const t=document.getElementById("cart"),e=document.querySelector(".cart"),n=document.querySelector(".cart-close");t.addEventListener("click",(()=>{e.style.display="flex",document.body.style.overflow="hidden"})),n.addEventListener("click",(()=>{e.style.display="none",document.body.style.overflow=""}))}(),function(){const t=document.querySelectorAll(".goods .card"),e=document.querySelector(".cart-wrapper"),n=document.getElementById("cart-empty"),c=document.querySelector(".counter");function o(){const t=e.querySelectorAll(".card"),o=e.querySelectorAll(".card-price"),l=document.querySelector(".cart-total span");let d=0;c.textContent=t.length,o.forEach((t=>{let e=parseFloat(t.textContent);d+=e})),l.textContent=d,0!==t.length?n.remove():e.appendChild(n)}t.forEach((t=>{t.querySelector("button").addEventListener("click",(()=>{const n=t.cloneNode(!0);e.appendChild(n),o();const c=n.querySelector(".btn");c.textContent="–£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã",c.addEventListener("click",(()=>{n.remove(),o()}))}))}))}(),function(){const e=document.querySelectorAll(".goods .card"),n=document.getElementById("discount-checkbox"),c=(document.getElementById("playstation-checkbox"),document.getElementById("xbox-checkbox"),document.getElementById("nintendo-checkbox"),document.getElementById("min")),o=document.getElementById("max"),l=(document.querySelector(".goods"),document.querySelector(".search-wrapper_input")),d=document.querySelector(".search-btn");n.addEventListener("click",t),c.addEventListener("change",t),o.addEventListener("change",t),d.addEventListener("click",(()=>{const t=new RegExp(l.value.trim(),"i");e.forEach((e=>{const n=e.querySelector(".card-title");t.test(n.textContent)?e.parentNode.style.display="":e.parentNode.style.display="none"}))}))}(),function(){const t=document.querySelectorAll(".goods .card"),e=document.querySelector(".catalog-list"),n=document.querySelector(".catalog-button"),c=document.querySelector(".catalog"),o=new Set;t.forEach((t=>{o.add(t.dataset.category)})),console.log(o),o.forEach((t=>{const n=document.createElement("li");n.textContent=t,e.appendChild(n)}));const l=e.querySelectorAll("li");n.addEventListener("click",(e=>{c.style.display?c.style.display="":c.style.display="block","LI"===e.target.tagName&&(t.forEach((t=>{t.dataset.category===e.target.textContent?t.parentNode.style.display="":t.parentNode.style.display="none"})),l.forEach((t=>{t===e.target?t.classList.add("active"):t.classList.remove("active")})))}))}()}()})();